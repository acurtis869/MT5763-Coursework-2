---
title: "MT5763_2_200030711"
author: "Alex Curtis"
date: "17/10/2020"
output:
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

GitHub repository can be found at: https://github.com/acurtis869/MT5763_2_200030711

## Abstract


## Introduction


## Methods
First the data set was transformed to make it easier to analyse. The data-wrangling comprised changing the table so that there were columns for treatment, hair growth and age, and also transforming the values for growth into millimetres from inches (as specified).
```
/* Import dataset */
FILENAME REFFILE '/folders/myshortcuts/SASUniversityEdition/myfolders/MT5763/Coursework 2/Baldy.csv';

PROC IMPORT DATAFILE=REFFILE
	DBMS=CSV
	OUT=MT5763.BALDYRAW;
	GETNAMES=YES;
RUN;

/* Transfrom data to make it easier to analyse */

/* Start by making a new table, with three columns for treatment, hair growth, and age */
/* Create temporary tables for each treatment */
DATA MT5763.LUXURIANT;
SET MT5763.BALDYRAW;
Treatment="Luxuriant";
Growth = Luxuriant;
Age = AgeLuxuriant;
KEEP Treatment Growth Age
RUN;

DATA MT5763.PLACEBO;
SET MT5763.BALDYRAW;
Treatment="Placebo";
Growth = Placebo;
Age = AgePlacebo;
KEEP Treatment Growth Age
RUN;

DATA MT5763.BALDBEGONE;
SET MT5763.BALDYRAW;
Treatment="BaldBeGone";
Growth = BaldBeGone;
Age = AgeBaldBeGone;
KEEP Treatment Growth Age
RUN;

DATA MT5763.SKINHEADNOMORE;
SET MT5763.BALDYRAW;
Treatment="Skinheadnomore";
Growth = Skinheadnomore;
Age = AgeSkinheadnomore;
KEEP Treatment Growth Age
RUN;

/* Now merge these temporary tables to create new table */
DATA MT5763.Baldy;
SET MT5763.LUXURIANT MT5763.PLACEBO MT5763.BALDBEGONE MT5763.SKINHEADNOMORE; 
RUN;

/* Transform growth from inches into mm */
DATA MT5763.Baldy;
SET MT5763.Baldy;
Growth = Growth * 25.4;
RUN;
```

In order to answer the questions posed, several plots were created to explore the data visually. To compare the effect of *Luxuriant* with that of the placebo and the other two treatments, the plots created were box-plots. These were chosen as they describe the distribution of the data very clearly and are very effective for performing an initial analysis. To explore the effect that age has, four scatter plots were produced (one for each treatment) and combined into a grid. This allows one to easily see if there is any relationship between age and hair growth for each treatment.

Further to creating the plots, a statistical procedure was performed for each question to provide further evidence to any initial conclusions. To compare between *Luxuriant* and the placebo, a two-sample t-test could not be used due to the non-constant variance between the groups. Therefore, a non-parametric equivalent - the Wilcoxon signed-rank test - was used to test whether the distributions were different. For the other two questions a linear model was produced to gauge the effect of the existing treatments or the age variable. To compare with the existing treatments, this was a simple linear model with treatment as the predictor variable. For the age model, age and an interaction term were also added to see if the effect of age is different for each treatment.


## Results

### Is there an effect of *Luxuriant* above and beyond the placebo?

```
PROC BOXPLOT DATA=MT5763.BALDY;
PLOT Growth*Treatment; 
WHERE Treatment = "Placebo" | Treatment = "Luxuriant";
RUN;
```
```{r, echo=FALSE, out.width="70%", fig.align='center', fig.cap="Box-plot comparing distribution of hair growth for Luxuriant and the placebo."}
knitr::include_graphics("Q1 Plot.png")
```

This plot provides fairly clear evidence that *Luxuriant* has a much greater effect on hair growth than that of the placebo. The average hair growth after one month with *Luxuriant* is around 0.5mm, whereas it is only 0.1mm with the placebo. This is clearly a fairly significant difference, however, this can be confirmed statistically using a Wilcoxon signed-rank test.

```
PROC NPAR1WAY DATA=MT5763.BALDY;
WHERE Treatment = "Placebo" | Treatment = "Luxuriant";
CLASS Treatment;
VAR Growth;
RUN;
```

This test confirms what the plot showed. The p-value was less than 0.0001 which provides very strong evidence that the means of the two groups are different. Therefore it can be said that *Luxuriant* has an effect above and beyond the placebo.

### Is *Luxuriant* more effective than the existing treatments on the market?

```
PROC BOXPLOT DATA=MT5763.BALDY;
PLOT Growth*Treatment; 
WHERE Treatment NE "Placebo";
RUN;
```
```{r, echo=FALSE, out.width="70%", fig.align='center', fig.cap="Box-plot comparing distribution of hair growth for Luxuriant against the existing treatments on the market."}
knitr::include_graphics("Q2 Plot.png")
```

This plot actually suggests that *Luxuriant* is less effective than the other treatments on the market. *BaldBeGone* is clearly the most effective treatment at stimulating hair growth, with an average hair growth of around 1.5mm after a month - roughly 3 times that of *Luxuriant*. *SkinheadNoMore* also appears to be slightly more effective than *Luxuriant*, although the difference is not as large as it was with *BaldBeGone*. These findings are confirmed in the linear model created:

```
PROC GLM DATA = MT5763.BALDY;
WHERE Treatment NE "Placebo";
CLASS Treatment;
MODEL Growth = Treatment/solution clparm;
RUN;
```

which produces the model:

$Growth = 0.738 + 0.686 x_{BaldBeGone} - 0.226 x_{Luxuriant}$

### Is age relevant to any effect?

```
PROC SGPANEL data=MT5763.BALDY;
PANELBY Treatment;
SCATTER x=Age y=Growth;
TITLE "Scatter Plot of Growth against Age";
RUN;
```
```{r, echo=FALSE, out.width="70%", fig.align='center', fig.cap="Scatter plots to determine relationship between age and hair growth, separated by each treatment."}
knitr::include_graphics("Q3 Plot.png")
```

There is not particularly any relationship to be seen for any of the treatments. All plots appear to suggest age and growth are uncorrelated. This can be further explored by creating a linear model.

```
PROC GLM DATA = MT5763.BALDY;
CLASS Treatment;
MODEL Growth = Treatment Age Treatment*Age/solution clparm;
RUN;
```
```{r, echo=FALSE, out.width="70%", fig.align='center', fig.cap="Table showing the output of the linear model created to test the effect of age on hair growth."}
knitr::include_graphics("Q3 Table.png")
```

This model confirms that age does not have any significant effect on hair growth. The p-values for all the interaction terms are over 0.2 which suggests there is little evidence to suggest they are significantly diffefent from zero. Further, the parameter for age has a p-value of over 0.8 which essentially provides no evidence that it has an effect on hair growth.

## Discussion


## References
